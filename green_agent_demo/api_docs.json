{"openapi":"3.1.0","info":{"title":"Ecom-GreenAgent","version":"0.0.1"},"paths":{"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/favicon.ico":{"get":{"summary":"Favicon","operationId":"favicon_favicon_ico_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/insights/product":{"post":{"tags":["insights"],"summary":"Product Insights","operationId":"product_insights_insights_product_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductInsightsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/search":{"get":{"tags":["commerce"],"summary":"Search","operationId":"search_search_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"free text; matches name/aisle/department","title":"Q"},"description":"free text; matches name/aisle/department"},{"name":"field","in":"query","required":false,"schema":{"type":"string","pattern":"^(name|aisle|department)$","default":"name","title":"Field"}},{"name":"aisle","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Aisle"}},{"name":"department","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":20,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cart/add":{"post":{"tags":["commerce"],"summary":"Add To Cart","operationId":"add_to_cart_cart_add_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddToCartRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartSnapshot"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cart":{"get":{"tags":["commerce"],"summary":"Get Cart","operationId":"get_cart_cart_get","parameters":[{"name":"agent_key","in":"query","required":true,"schema":{"type":"string","minLength":1,"title":"Agent Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartSnapshot"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/checkout":{"post":{"tags":["commerce"],"summary":"Checkout","operationId":"checkout_checkout_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckoutRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mock/healthz":{"get":{"summary":"Mock Healthz","operationId":"mock_healthz_mock_healthz_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/mock/search":{"get":{"summary":"Mock Search","operationId":"mock_search_mock_search_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}},{"name":"field","in":"query","required":false,"schema":{"type":"string","default":"name","title":"Field"}},{"name":"aisle","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Aisle"}},{"name":"department","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mock/cart/add":{"post":{"summary":"Mock Cart Add","operationId":"mock_cart_add_mock_cart_add_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mock/checkout":{"post":{"summary":"Mock Checkout","operationId":"mock_checkout_mock_checkout_post","parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/agent_card":{"get":{"summary":"Agent Card","operationId":"agent_card_agent_card_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/reset":{"post":{"summary":"Reset","operationId":"reset_reset_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/task":{"post":{"summary":"Run One Assessment","operationId":"run_one_assessment_task_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AddToCartRequest":{"properties":{"agent_key":{"type":"string","minLength":1,"title":"Agent Key"},"items":{"items":{"$ref":"#/components/schemas/CartItem"},"type":"array","minItems":1,"title":"Items"}},"type":"object","required":["agent_key","items"],"title":"AddToCartRequest"},"AssessResponse":{"properties":{"metrics":{"$ref":"#/components/schemas/Metrics"},"trace":{"additionalProperties":true,"type":"object","title":"Trace"}},"type":"object","required":["metrics","trace"],"title":"AssessResponse"},"CartItem":{"properties":{"product_id":{"type":"integer","title":"Product Id"},"qty":{"type":"integer","minimum":1.0,"title":"Qty","default":1}},"type":"object","required":["product_id"],"title":"CartItem"},"CartSnapshot":{"properties":{"agent_key":{"type":"string","title":"Agent Key"},"items":{"items":{"$ref":"#/components/schemas/CartItem"},"type":"array","title":"Items"}},"type":"object","required":["agent_key","items"],"title":"CartSnapshot"},"CheckoutRequest":{"properties":{"agent_key":{"type":"string","minLength":1,"title":"Agent Key"}},"type":"object","required":["agent_key"],"title":"CheckoutRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HistoryItem":{"properties":{"product_id":{"type":"integer","title":"Product Id"},"qty":{"type":"integer","title":"Qty"}},"type":"object","required":["product_id","qty"],"title":"HistoryItem"},"Metrics":{"properties":{"precision":{"type":"number","title":"Precision"},"recall":{"type":"number","title":"Recall"},"f1":{"type":"number","title":"F1"},"latency_ms":{"type":"integer","title":"Latency Ms"}},"type":"object","required":["precision","recall","f1","latency_ms"],"title":"Metrics"},"ProductInsightsRequest":{"properties":{"product_id":{"type":"integer","title":"Product Id"}},"type":"object","required":["product_id"],"title":"ProductInsightsRequest"},"SearchResponse":{"properties":{"total":{"type":"integer","title":"Total"},"items":{"items":{"$ref":"#/components/schemas/SearchResponseItem"},"type":"array","title":"Items"}},"type":"object","required":["total","items"],"title":"SearchResponse"},"SearchResponseItem":{"properties":{"product_id":{"type":"integer","title":"Product Id"},"product_name":{"type":"string","title":"Product Name"},"aisle":{"type":"string","title":"Aisle"},"department":{"type":"string","title":"Department"}},"type":"object","required":["product_id","product_name","aisle","department"],"title":"SearchResponseItem"},"Task":{"properties":{"task_id":{"type":"string","title":"Task Id"},"user_id":{"type":"string","title":"User Id"},"history":{"items":{"$ref":"#/components/schemas/HistoryItem"},"type":"array","title":"History"},"goal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Goal"},"ground_truth_items":{"additionalProperties":{"type":"integer"},"type":"object","title":"Ground Truth Items"}},"type":"object","required":["task_id","user_id","history","ground_truth_items"],"title":"Task"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}